<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Shader Maker: Notes about tangent vectors.</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="index.html">Documentation / User's manual</a></div>
<h1><a class="anchor" name="notes_tangents">Notes about tangent vectors. </a></h1>This explains what tangent vectors are good for.<p>
In some cases it might be useful to compute things not in model-space coordinates but in texture space coordinates. For example, if you look up a vector in a texture map, this vector has usually an orientation relative to the projection plane. If you rotate this triangle that uses this vector, the vector must be rotated as well. The problem is to find the rotation matrix.<p>
This is where tangent vectors come into play. The shader editor provides two additioal vertex attributes:<p>
attribute vec3 attrTangent; <br>
 attribute vec3 attrBitangent; <br>
<p>
These tangent vectors define an orthogonal coordinate system in texture space. They are created for each vertex by using the positions and texture coordinates of the incident triangle. The 'attrTangent' vector represents the positive 's' axis of the 2D texture coordinates in the 3D triangle and the 'attrBitangent' represents the positive 't' axis of the 2D texture coordinates in the 3D triangle.<p>
You can visualize the tangent vectors by checking the 'Show tangent spaqce' check-box in the scene tab. The tangent is drawn in red, the bitangent in green and the vertex normal in blue.<p>
The tangent, bitangent and normal attributes of a vertex define an orthonormalbasis. You can use this basis to transform vectors out of the texture space coordinate system ( also called tangent space ) to the model space coordinate system in which your test model is defined. If you want to transform a model space vector into tangent space, you must multiply that vector with the transpose of this matrix.<p>
To create a matrix, that transforms from tangent to model space, you can do the following:<p>
mat3 tangentToModelMatrix; <br>
 tangentToModelMatrix[0] = attrTangent; <br>
 tangentToModelMatrix[1] = attrBitangent; <br>
 tangentToModelMatrix[2] = gl_Normal; <br>
<p>
and transforming a tangent space vector is done with a multiplication:<p>
vec3 tangentVector = ... <br>
 vec3 modelVector = tangentToModelMatrix * tangentVector; <br>
 <hr size="1"><address style="text-align: right;"><small>Generated on Sun Mar 2 17:12:31 2008 for Shader Maker by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
